{"ast":null,"code":"import _slicedToArray from\"C:/Work/SelfAccess/JavaScript/ReactTutorial2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{fetchImages}from\"./api\";/* ヘッダーの表示 */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){return/*#__PURE__*/_jsx(\"header\",{className:\"hero is-dark is-bold\",children:/*#__PURE__*/_jsx(\"div\",{className:\"hero-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Cute Dog Images\"})})})});}/* 画像の見せ方 */function Image(props){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-image\",children:/*#__PURE__*/_jsx(\"figure\",{className:\"image\",children:/*#__PURE__*/_jsx(\"img\",{src:props.src,alt:\"cute dog!\"})})})});}/* 画像が表示されるまでに時間がある。そこで、その時間に仮の画面を表示する。 */function Loading(){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}/* 実際に画像を表示する */function Gallery(props){var urls=props.urls;if(urls==null){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"columns is-vcentered is-multiline\",children:urls.map(function(url){return/*#__PURE__*/_jsx(\"div\",{className:\"column is-3\",children:/*#__PURE__*/_jsx(Image,{src:url})},url);})});}function Form(props){function handleSubmit(event){event.preventDefault();var breed=event.target.elements.breed;props.onFormSubmit(breed.value);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"field has-addons\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"div\",{className:\"select is-fullwidth\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"breed\",defaultValue:\"shiba\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"shiba\",children:\"Shiba\"}),/*#__PURE__*/_jsx(\"option\",{value:\"akita\",children:\"Akita\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-dark\",children:\"Reload\"})})]})})});}/* メイン画面の表示 */function Main(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),urls=_useState2[0],setUrls=_useState2[1];useEffect(function(){fetchImages(\"shiba\").then(function(urls){setUrls(urls);});},[]);function reloadImages(breed){fetchImages(breed).then(function(urls){setUrls(urls);});}return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"section\",{className:\"section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(Form,{onFormSubmit:reloadImages})})}),/*#__PURE__*/_jsx(\"section\",{className:\"section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(Gallery,{urls:urls})})})]});}/* フッターの表示 */function Footer(){return/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content has-text-centered\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Dog images are retrieved from Dog API\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://dog.ceo/dog-api/about\",children:\"Donate to Dog API\"})})]})});}function App(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Main,{}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"sources":["C:/Work/SelfAccess/JavaScript/ReactTutorial2/src/App.js"],"names":["useEffect","useState","fetchImages","Header","Image","props","src","Loading","Gallery","urls","map","url","Form","handleSubmit","event","preventDefault","breed","target","elements","onFormSubmit","value","Main","setUrls","then","reloadImages","Footer","App"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { fetchImages } from \"./api\";\r\n\r\n/* ヘッダーの表示 */\r\nfunction Header() {\r\n    return (\r\n        <header className=\"hero is-dark is-bold\">\r\n            <div className=\"hero-body\">\r\n                <div className=\"container\">\r\n                    <h1 className=\"title\">Cute Dog Images</h1>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\n/* 画像の見せ方 */\r\nfunction Image(props) {\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card-image\">\r\n                <figure className=\"image\">\r\n                <img src={props.src} alt=\"cute dog!\" />\r\n                </figure>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n/* 画像が表示されるまでに時間がある。そこで、その時間に仮の画面を表示する。 */\r\nfunction Loading() {\r\n    return <p>Loading...</p>;\r\n}\r\n\r\n/* 実際に画像を表示する */\r\nfunction Gallery(props) {\r\n    const { urls } = props;\r\n    if (urls == null) {\r\n        return <Loading />;\r\n    }\r\n    return (\r\n        <div className=\"columns is-vcentered is-multiline\">\r\n            {urls.map((url) => {\r\n                return (\r\n                    <div key={url} className=\"column is-3\">\r\n                        <Image src={url} />\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Form(props) {\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        const { breed } = event.target.elements;\r\n        props.onFormSubmit(breed.value);\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"field has-addons\">\r\n                    <div className=\"control is-expanded\">\r\n                        <div className=\"select is-fullwidth\">\r\n                            <select name=\"breed\" defaultValue=\"shiba\">\r\n                                <option value=\"shiba\">Shiba</option>\r\n                                <option value=\"akita\">Akita</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"control\">\r\n                        <button type=\"submit\" className=\"button is-dark\">\r\n                            Reload\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n/* メイン画面の表示 */\r\nfunction Main() {\r\n    const [urls, setUrls] = useState(null);\r\n    useEffect(() => {\r\n        fetchImages(\"shiba\").then((urls) => {\r\n            setUrls(urls);\r\n        });\r\n    }, []);\r\n    function reloadImages(breed) {\r\n        fetchImages(breed).then((urls) => {\r\n            setUrls(urls);\r\n        });\r\n    }\r\n    return (\r\n        <main>\r\n            <section className=\"section\">\r\n                <div className=\"container\">\r\n                    <Form onFormSubmit={reloadImages} />\r\n                </div>\r\n            </section>\r\n            <section className=\"section\">\r\n                <div className=\"container\">\r\n                    <Gallery urls={urls} />\r\n                </div>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\n/* フッターの表示 */\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <div className=\"content has-text-centered\">\r\n                <p>Dog images are retrieved from Dog API</p>\r\n                <p>\r\n                    <a href=\"https://dog.ceo/dog-api/about\">Donate to Dog API</a>\r\n                </p>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nfunction App() {\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <Main />\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}